<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">

    <!-- ------------------------------- -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<!-- ------------------------------------------- -->
 <script src="./js/Node.js"></script>
</head>
<body>
    <div class="container-fluid bg-dark pt-3">
        <header id="bar">
            <div class="d-flex justify-content-evenly">
                <div class="nav_bar d-flex align-items-center">
                    <div>
                        <h2 class="text-light">Atoza Store</h2>
                    </div>
                </div>
                <div id="btn">
                    <button class="btn  rounded-5">Login</button>
                </div>
            </div>
            <div>
                <div class="image mt-3">
                    <img src="./image/pic/banner.png" alt="Store Banner" width="100%" class="img-fluid">
                </div>
                <div class="btn_1 d-flex justify-content-evenly mt-3" id="buton">
                    <a href="#title" class="btn btn-light text-decoration-none">Top up</a>
                    <a href="#introduction" class="btn btn-light text-decoration-none">Introduction</a>
                </div>
                <div id="intro" class="container-fluid mt-5 bg-light pb-2">
                    <div id="img">
                        <img src="./image/logo/mlbb.png" alt="Mobile Legends Logo" width="100%" class="img-fluid">
                    </div>
                    <div id="txt">
                        <p id="introduction">
                            ទិញពេជ្រ Mobile Legends ដោយខ្លួនឯង! បញ្ចូលពេជ្រ Mobile Legends: Bang Bang តាមរយះ អាយឌី ID របស់អ្នក, ជ្រើសរើសកញ្ចប់ពេជ្រ ដែលអ្នកពេញចិត្តទិញ, បង់ប្រាក់តាមមធ្យោបាយដែលអ្នកមាន, ពេជ្រនឹងបញ្ជូនទៅក្នុងគណនេយ្យ MLBB របស់អ្នកភ្លាមៗ។
                        </p>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container-fluid mt-3 ps-1 pe-1">
                <div class="card shadow p-4">
                    <h4 class="text-center text-white bg-danger p-1 rounded" id="title">Check ID</h4>
                    <form>
                        <!-- User ID Field -->
                        <div class="mb-3">
                            <label for="userId" class="form-label">User ID</label>
                            <input type="number" class="form-control" id="userId" placeholder="Enter your User ID" required>
                        </div>
                        <!-- Server ID Field -->
                        <div class="mb-3">
                            <label for="serverId" class="form-label">Server ID</label>
                            <input type="number" class="form-control text-center" id="serverId" placeholder="Zone ID" required>
                        </div>
                        <!-- Check ID Button -->
                        <div class="d-grid">
                            <button type="button" class="btn btn-danger" onclick="checkID()">Check ID</button>
                        </div>
                    </form>
                    <!-- Display Result -->
                    <p class="mt-3 text-center text-muted" id="result"></p>
                </div>
            </div>

            <!-- Diamond Options -->
            <div class="container bg-light mt-3 rounded-3">
                <div class="text-white bg-pink p-3 rounded text-center">
                    <h4 class="text-dark" id="topup">ប្រើប្រាស់សិទ្ធិ</h4>
                </div>
                <div class="d-flex justify-content-center flex-wrap p-2 gap-2" id="dia">
                    <!-- Diamond Options -->
                    <div class="mb-3 card-item">
                        <input type="radio" id="option1" name="diamond" checked>
                        <label for="option1" class="option-card">14 Diamonds +<br>0.30$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option2" name="diamond">
                        <label for="option2" class="option-card">28 Diamonds<br>0.50$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option3" name="diamond">
                        <label for="option3" class="option-card">55 Double Recharge Promo<br>1.00$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option4" name="diamond">
                        <label for="option4" class="option-card">82 Diamonds<br>1.55$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option5" name="diamond">
                        <label for="option5" class="option-card">Weekly Pass<br>1.45$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option6" name="diamond">
                        <label for="option6" class="option-card">100 Diamonds<br>1.90$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option7" name="diamond">
                        <label for="option7" class="option-card">152 Diamonds<br>2.90$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option8" name="diamond">
                        <label for="option8" class="option-card">252 Diamonds<br>5.90$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option9" name="diamond">
                        <label for="option9" class="option-card">320 Diamonds<br>6.90$</label>
                    </div>
                    <div class="mb-3 card-item">
                        <input type="radio" id="option10" name="diamond">
                        <label for="option10" class="option-card">520 Diamonds<br>9.99$</label>
                    </div>
                </div>
            </div>

            <!-- Payment Section -->
            <div class="container-fluid bg-light mt-3 rounded-3">
                <div class="text-white bg-pink p-3 rounded text-center">
                    <h4 class="text-dark">បង់ប្រាក់</h4>
                </div>
                <div class="d-flex justify-content-evenly mb-0">
                    <div>
                        <h4>KH QR</h4>
                        <p class="m-0">Scan to pay with member bank app</p>
                    </div>
                </div>
                <div>
                    <input type="checkbox" id="agreeCheckbox" class="form-check-input m-0 mb-0 mt-1 me-0 ms-2 pt-2">
                    <span class="span mb-5 mt-0 ms-1">I agree to all orders and there is no cancellation or refund</span>
                </div>
                <div class="ps-4">
                    <button type="button" class="btn btn-primary mb-5 mt-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Buy your choice
                    </button>
                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-3">Buy Now</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body">
                                    <div class="qr w-70 h-70 ms-2 me-2">
                                        <img src="./image/pic/Qr.png" alt="QR Code" width="100%">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="./js/scrip.js"></script>
</body>
<script>
   document.querySelectorAll(".option-card").forEach(card => {
    card.addEventListener("click", function () {
        document.querySelectorAll(".option-card ").forEach(c => c.classList.remove("selected")); // Remove previous selection
        this.classList.add("selected"); // Apply new selection
    });
});

   document.querySelectorAll(".to").forEach(card => {
    card.addEventListener("click", function () {
        document.querySelectorAll(".to ").forEach(c => c.classList.remove("selected")); // Remove previous selection
        this.classList.add("selected"); // Apply new selection
    });
});



   function checkID() {
    let userId = document.getElementById("userId").value;
    let serverId = document.getElementById("serverId").value;

    if (userId && serverId) {
        // Send the data to your server-side API
        fetch('https://your-server.com/api/checkID', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ userId: userId, serverId: serverId })
        })
        .then(response => response.json())  // Assuming the server responds with JSON
        .then(data => {
            if (data.success) {
                document.getElementById("result").innerHTML = `Account Name: <b>${userId}</b> (Zone ${serverId})`;
            } else {
                document.getElementById("result").innerHTML = "Error: " + data.message;
            }
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById("result").innerHTML = "An error occurred while checking the account.";
        });
    } else {
        document.getElementById("result").innerHTML = "Please fill in all fields.";
    }
}

    // -----------------------------------------------------------------------------
    
    function checkID() {
    let userId = document.getElementById("userId").value;
    let serverId = document.getElementById("serverId").value;

    if (userId && serverId) {
        // Send the data to your Flask server
        fetch('http://127.0.0.1:5000/api/checkID', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ userId: userId, serverId: serverId })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById("result").innerHTML = `Account Name: <b>${data.userId}</b> (Zone ${data.serverId})`;
            } else {
                document.getElementById("result").innerHTML = "Error: " + data.message;
            }
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById("result").innerHTML = "An error occurred while checking the account.";
        });
    } else {
        document.getElementById("result").innerHTML = "Please fill in all fields.";
    }
}
// -----------------------
function fetchData() {
    fetch('http://127.0.0.1:5000/api/getData')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const resultDiv = document.getElementById("result");
                resultDiv.innerHTML = "<h4>Stored Data:</h4>";
                data.data.forEach(line => {
                    resultDiv.innerHTML += `<p>${line}</p>`;
                });
            } else {
                console.error("Error:", data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
}

// Call this function to display the data
fetchData();
</script>
</html>